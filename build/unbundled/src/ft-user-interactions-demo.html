<html><head><link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="ft-user-interaction-demo-request-list.html">

<link rel="import" href="../bower_components/ft-user-interaction-form/ft-user-interaction-form.html">

</head><body><dom-module id="ft-user-interactions-demo">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        
        
            
                
                
            
            
                
                    
                
            
        

        
        <div class="layout horizontal" style="width:100%; height:100%; background-color:white">

            
            <div class="layout vertical" style="height:100%; border-right:1px solid #DDD">

                
                <div class="layout horizontal center" style="width:100%; height:40px; padding-left:10px">
                    <iron-label style="font-family:Arial">
                        Request Examples
                    </iron-label>
                </div>
                <div style="width:100%; height:1px; border-top:1px solid #DDD"></div>

                
                <user-interaction-demo-request-list id="requestList" requests="[[requests]]" selected-request="{{_selectedRequest}}" style="height:100%">
                </user-interaction-demo-request-list>

            </div>

            
            <div class="layout vertical flex" style="height:100%; min-width:250px">

                
                <div class="layout horizontal center" style="width:100%; height:40px; padding-left:10px">
                    <iron-label style="font-family:Arial">
                        Request received
                    </iron-label>
                </div>

                
                <div id="requestText" style="width:100%; min-height:100px;
                            font-size:12px;
                            padding-left:4px;
                            overflow:scroll;
                            font-family:'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;
                            border:1px solid #DDD">
                </div>
            </div>

            
            <div style="width:20px"></div>

            
            <div class="layout vertical" style="width:400px">

                
                <div class="layout horizontal center" style="width:100%; height:40px; padding-left:10px">
                    <iron-label style="font-family:Arial">
                        Dialog generated from request
                    </iron-label>
                </div>

                
                <ft-user-interaction-form id="userInteractionForm" request="{{_selectedRequest}}" response="{{_response}}" on-entered-data-changed="_onEnteredDataChanged" on-button-clicked="_onButtonClicked">
                </ft-user-interaction-form>
            </div>

            
            <div style="width:20px"></div>

            
            <div class="layout vertical flex" style="height:100%; min-width:250px">

                
                <div class="layout horizontal center" style="width:100%; height:40px; padding-left:10px">
                    <iron-label style="font-family:Arial">
                        Response to be sent
                    </iron-label>
                </div>

                
                <div id="responseText" hidden$="[[!_response]]" style="width:100%; min-height:100px;
                            font-size:12px;
                            padding-left:4px;
                            overflow:scroll;
                            font-family:'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;
                            border:1px solid #DDD">
                </div>
                <div class="layout horizontal center center-justified" hidden$="[[_response]]" style="width:100%; min-height:100px;
                            color:#DDD;
                            font-size:14px;
                            font-family:Arial;
                            border:1px solid #DDD">
                    <div>
                        Fill in dialog to the left
                    </div>
                </div>
            </div>

        </div>
    </template>

    <script>Polymer({is:"ft-user-interactions-demo",properties:{requests:{type:Array,notify:!0,value:[]},_selectedRequest:{type:Object,notify:!0,value:null,observer:"_onSelectedRequest"},_response:{type:Object,notify:!0,value:null,observer:"_onResponseChanged"},_requestText:{type:String,notify:!0,value:"",observer:"_onRequestTextChanged"},_responseText:{type:String,notify:!0,value:"",observer:"_onResponseTextChanged"}},_requestNames:["alert","branch-code","credentials","error","general-choices","general-ota","general-text","not-paperless","not-supported","pin","retry","us-state","user-action-required","user-locked-out","user-must-set-up-account"],_loadedRequests:[],ready:function(){this._loadNextRequest()},_loadNextRequest:function(){if(0==this._requestNames.length)return void(this.requests=this._loadedRequests);var e=this._requestNames.shift(),t="/data/user-interaction-request-"+e+"-example-2.0.0.json",s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",t,!0),s.onreadystatechange=function(){if(4==s.readyState&&"200"==s.status){var e=JSON.parse(s.responseText);this._loadedRequests.push(e),this._loadNextRequest()}}.bind(this),s.send()},_onSelectedRequest:function(){this._updateRequestText()},_onResponseChanged:function(){this._updateResponseText()},_onRequestTextChanged:function(){this.$.requestText.innerHTML=this._requestText},_onResponseTextChanged:function(){this.$.responseText.innerHTML=this._responseText},_updateRequestText:function(){null==this._selectedRequest?this._requestText="":this._requestText=this._prettyPrint(this._selectedRequest)},_updateResponseText:function(){null==this._response?this._responseText="":this._responseText=this._prettyPrint(this._response)},_prettyPrint:function(e){var t=JSON.stringify(e,null,3);return t=this.fixWhitespace(t)},fixWhitespace:function(e){return e=String(e).replace(/\n/g,"<br>"),e=String(e).replace(/ /g,"&nbsp;")},_onEnteredDataChanged:function(e){this.$.userInteractionForm.generateResponse()},_onButtonClicked:function(e,t){}});</script>
</dom-module>
</body></html>